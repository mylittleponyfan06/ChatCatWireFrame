<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ChatCat ¬∑ Workspaces</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <div class="app" id="app">
    <aside class="sidebar" aria-label="Primary navigation">
      <div class="brand">
        <div class="logo">üê±</div>
        <div>
          <p class="brand__name">ChatCat</p>
          <p class="brand__meta">Whatsapp classifier</p>
        </div>
        <button class="sidebar__toggle" id="sidebarToggle" aria-label="Collapse sidebar">‚óÄ</button>
      </div>
      <nav class="nav">
        <button class="nav__item" data-page="dashboard" onclick="location.href='../index.html'">Dashboard</button>
        <button class="nav__item active" data-page="workspaces">Workspaces</button>
        <button class="nav__item" data-page="search" onclick="location.href='contextual-search.html'">Contextual Search</button>
        <button class="nav__item" data-page="summarize" onclick="location.href='summarize.html'">Summarize</button>
        <button class="nav__item" data-page="upload" onclick="location.href='upload.html'">Upload</button>
        <button class="nav__item" data-page="emotion" onclick="location.href='emotion-scan.html'">Emotion Scan</button>
      </nav>
      <div class="sidebar__footer">
        <label class="toggle">
          <input type="checkbox" id="seniorToggle" />
          <span>Senior-friendly UI</span>
        </label>
        <div class="user">
          <div class="avatar">CC</div>
          <div>
            <p class="user__name">Demo User</p>
            <p class="user__meta">demo@chatcat.com</p>
          </div>
        </div>
      </div>
    </aside>

    <main class="main">
      <!-- SCREEN 1: Projects Overview -->
      <div class="workspace-screen active" id="screen-overview">
        <header class="topbar">
          <h2>Workspaces</h2>
          <div class="topbar__actions">
            <button class="ghost">Add Files</button>
            <button class="primary" id="newProjectBtn">+ New</button>
          </div>
        </header>
        
        <section class="panel">
          <div class="projects-list">
            <div class="project-card" onclick="openProject('PFM Group Project 1')">
              <div class="project-header">
                <div>
                  <h4 class="project-name">PFM Group Project 1</h4>
                  <p class="project-meta">Last imported: 2 hours ago</p>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat-mini">
                  <span class="stat-label">Incoming Files</span>
                  <span class="stat-value">5</span>
                </div>
                <div class="stat-mini">
                  <span class="stat-label">Backups</span>
                  <span class="stat-value">3</span>
                </div>
              </div>
              <div class="project-actions">
                <button class="ghost" onclick="event.stopPropagation(); openProject('PFM Group Project 1')">Open</button>
                <button class="ghost danger" onclick="event.stopPropagation()">Delete</button>
              </div>
            </div>

            <div class="project-card" onclick="openProject('PFM Group Project 2')">
              <div class="project-header">
                <div>
                  <h4 class="project-name">PFM Group Project 2</h4>
                  <p class="project-meta">Last imported: 1 day ago</p>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat-mini">
                  <span class="stat-label">Incoming Files</span>
                  <span class="stat-value">20</span>
                </div>
                <div class="stat-mini">
                  <span class="stat-label">Backups</span>
                  <span class="stat-value">1</span>
                </div>
              </div>
              <div class="project-actions">
                <button class="ghost" onclick="event.stopPropagation(); openProject('PFM Group Project 2')">Open</button>
                <button class="ghost danger" onclick="event.stopPropagation()">Delete</button>
              </div>
            </div>

            <div class="project-card" onclick="openProject('PFM Group Project 3')">
              <div class="project-header">
                <div>
                  <h4 class="project-name">PFM Group Project 3</h4>
                  <p class="project-meta">Last imported: 3 days ago</p>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat-mini">
                  <span class="stat-label">Incoming Files</span>
                  <span class="stat-value">205</span>
                </div>
                <div class="stat-mini">
                  <span class="stat-label">Backups</span>
                  <span class="stat-value">8</span>
                </div>
              </div>
              <div class="project-actions">
                <button class="ghost" onclick="event.stopPropagation(); openProject('PFM Group Project 3')">Open</button>
                <button class="ghost danger" onclick="event.stopPropagation()">Delete</button>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- SCREEN 2: Categories/Incoming Files -->
      <div class="workspace-screen" id="screen-categories">
        <header class="topbar">
          <div class="breadcrumbs">
            <span class="breadcrumb-item" onclick="switchScreen('overview')">Workspaces</span>
            <span class="breadcrumb-sep">/</span>
            <span class="breadcrumb-item" id="breadcrumbProjectCategories">PFM Group Project 1</span>
          </div>
          <div class="topbar__actions">
            <button class="ghost">Add Files</button>
          </div>
        </header>

        <section class="panel" style="margin-bottom: 20px;">
          <h4 style="margin: 0 0 8px;">Import WhatsApp Chat Backup</h4>
          <p class="muted" style="margin: 0 0 16px;">Last imported: --</p>
          <button class="ghost" onclick="switchScreen('import')">Import</button>
        </section>

        <section class="panel" style="margin-bottom: 20px; background: rgba(88, 198, 255, 0.05);">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <h3 style="margin: 0 0 4px;">Incoming Files</h3>
              <p class="muted" style="margin: 0;">5 files need categorization</p>
            </div>
            <button class="ghost" onclick="switchToCategory('Incoming Files')">Review</button>
          </div>
        </section>

        <section class="panel">
          <h3 style="margin: 0 0 16px;">Categories</h3>
          <div class="categories-grid">
            <div class="category-card" onclick="switchToCategory('Drafts')">
              <div class="category-name">Drafts</div>
              <div class="category-placeholder">
                <p>üìÑ</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
            </div>

            <div class="category-card" onclick="switchToCategory('Slides')">
              <div class="category-name">Slides</div>
              <div class="category-placeholder">
                <p>üìä</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
            </div>

            <div class="category-card" onclick="switchToCategory('References')">
              <div class="category-name">References</div>
              <div class="category-placeholder">
                <p>üìö</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
            </div>

            <div class="category-card" onclick="switchToCategory('Final Deliverables')">
              <div class="category-name">Final Deliverables</div>
              <div class="category-placeholder">
                <p>‚úì</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
            </div>
          </div>
        </section>
      </div>

      <!-- SCREEN 3: Import Flow -->
      <div class="workspace-screen" id="screen-import">
        <header class="topbar">
          <div class="breadcrumbs">
            <span class="breadcrumb-item" onclick="switchScreen('overview')">Projects</span>
            <span class="breadcrumb-sep">/</span>
            <span class="breadcrumb-item" id="breadcrumbProjectImport">PFM Group Project 1</span>
          </div>
          <div class="topbar__actions">
            <button class="ghost">Add Files</button>
            <button class="ghost" onclick="switchScreen('overview')">Back</button>
          </div>
        </header>

        <section class="panel">
          <div class="import-card">
            <h4 style="margin: 0 0 8px;">Import WhatsApp Backup</h4>
            <p class="muted" style="margin: 0 0 16px;">Last imported: --</p>
            <div class="import-dropzone">
              <p style="margin: 0; font-size: 18px;">‚òÅÔ∏è</p>
              <p style="margin: 6px 0 0;">Choose or drag your WhatsApp export</p>
            </div>
            <button class="primary block" style="margin-top: 12px;">Import Backup</button>
          </div>

          <h3 style="margin-top: 28px;">Incoming Files</h3>
          <p class="muted" style="margin: 0 0 12px;">5 files need categorization</p>
          
          <div class="incoming-files-preview">
            <div class="file-placeholder">üìÑ</div>
            <div class="file-placeholder">üìÑ</div>
            <div class="file-placeholder">üìÑ</div>
            <div class="file-placeholder">üìÑ</div>
            <div class="file-placeholder">üìÑ</div>
          </div>

          <h3 style="margin-top: 28px;">Categories</h3>
          <div class="categories-grid">
            <div class="category-card">
              <div class="category-name">Drafts</div>
              <div class="category-placeholder">
                <p>üìÑ</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <button class="ghost" style="width: 100%; margin-top: 12px;">+ 10 more</button>
            </div>

            <div class="category-card">
              <div class="category-name">Slides</div>
              <div class="category-placeholder">
                <p>üìä</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <button class="ghost" style="width: 100%; margin-top: 12px;">+ 10 more</button>
            </div>

            <div class="category-card">
              <div class="category-name">References</div>
              <div class="category-placeholder">
                <p>üìö</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <button class="ghost" style="width: 100%; margin-top: 12px;">+ 10 more</button>
            </div>

            <div class="category-card">
              <div class="category-name">Final Deliverables</div>
              <div class="category-placeholder">
                <p>‚úì</p>
                <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
              </div>
              <button class="ghost" style="width: 100%; margin-top: 12px;">+ 10 more</button>
            </div>
          </div>

          <div class="import-actions" style="margin-top: 28px;">
            <button class="ghost" onclick="switchScreen('overview')">Back</button>
            <button class="primary">Review & Continue</button>
          </div>
        </section>
      </div>

      <!-- SCREEN 4: Files/Drafts Management -->
      <div class="workspace-screen" id="screen-files">
        <header class="topbar">
          <div class="breadcrumbs">
            <span class="breadcrumb-item" onclick="switchScreen('overview')">Projects</span>
            <span class="breadcrumb-sep">/</span>
            <span class="breadcrumb-item" id="breadcrumbProjectFiles" onclick="switchScreen('categories')">PFM Group Project 1</span>
            <span class="breadcrumb-sep">/</span>
            <span class="breadcrumb-item" id="files-section-name">Drafts</span>
          </div>
          <div class="topbar__actions">
            <button class="ghost">Add Files</button>
            <button class="ghost" onclick="switchScreen('categories')">Back</button>
          </div>
        </header>

        <section class="panel">
          <!-- INCOMING FILES VIEW -->
          <div id="files-incoming-view" style="display: none;">
            <p class="muted" style="margin: 0 0 16px;">Drag and drop your files to the categories below! Click on any file to view more information.</p>

            <div class="incoming-files-preview" style="margin-bottom: 32px;">
              <div class="file-placeholder" draggable="true" data-file-name="Chat_Log_A.txt">üìÑ Chat_Log_A.txt</div>
              <div class="file-placeholder" draggable="true" data-file-name="Images.zip">üìÑ Images.zip</div>
              <div class="file-placeholder" draggable="true" data-file-name="Notes.docx">üìÑ Notes.docx</div>
              <div class="file-placeholder" draggable="true" data-file-name="Audio.m4a">üìÑ Audio.m4a</div>
            </div>

            <h3 style="margin-bottom: 16px;">Categories</h3>
            <div class="categories-grid">
              <div class="category-card">
                <div class="category-name">Drafts</div>
                <div class="category-placeholder">
                  <p>üìÑ</p>
                  <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
                </div>
                <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
              </div>

              <div class="category-card">
                <div class="category-name">Slides</div>
                <div class="category-placeholder">
                  <p>üìä</p>
                  <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
                </div>
                <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
              </div>

              <div class="category-card">
                <div class="category-name">References</div>
                <div class="category-placeholder">
                  <p>üìö</p>
                  <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
                </div>
                <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
              </div>

              <div class="category-card">
                <div class="category-name">Final Deliverables</div>
                <div class="category-placeholder">
                  <p>‚úì</p>
                  <p class="muted" style="font-size: 12px; margin-top: 8px;">Preview</p>
                </div>
                <p class="muted" style="font-size: 12px; margin-top: 12px; text-align: center;">... and 10 more</p>
              </div>
            </div>
          </div>

          <!-- DRAFTS/SLIDES/REFERENCES VIEW -->
          <div id="files-drafts-view">
            <div style="margin-bottom: 24px;">
              <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap;">
                <button class="ghost">Sort By</button>
                <button class="ghost">Date ‚ñº</button>
                <button class="ghost">Filter</button>
                <button class="ghost">All Versions ‚ñº</button>
                <input type="text" placeholder="Search" class="files-search" style="margin-left: auto;" />
              </div>
            </div>

            <div class="incoming-files-preview" style="margin-bottom: 32px;">
              <div class="file-placeholder">üìÑ</div>
              <div class="file-placeholder">üìÑ</div>
              <div class="file-placeholder">üìÑ</div>
              <div class="file-placeholder">üìÑ</div>
            </div>

            <div class="files-list">
              <div class="file-row">
                <div class="file-info">
                  <div class="file-name">Slides_v1.pptx</div>
                  <div class="file-meta">Version 1</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">10 September 2025, 11:30 PM</span>
                  <button class="ghost">Move to...</button>
                </div>
              </div>

              <div class="file-row">
                <div class="file-info">
                  <div class="file-name">Slides_v2.pptx</div>
                  <div class="file-meta">Version 2</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">11 September 2025, 12:30 PM</span>
                  <button class="ghost">Move to...</button>
                </div>
              </div>

              <div class="file-row">
                <div class="file-info">
                  <div class="file-name">Slides_v3.pptx</div>
                  <div class="file-meta">Version 3</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">11 September 2025, 01:30 PM</span>
                  <button class="ghost">Move to...</button>
                </div>
              </div>
            </div>
          </div>

          <!-- FINAL DELIVERABLES/EXPORT VIEW -->
          <div id="files-export-view" style="display: none;">
            <div class="files-toolbar">
              <div class="files-toolbar-actions">
                <button class="primary" onclick="toggleAllCheckboxes()">Export Selected</button>
                <button class="secondary">Export All</button>
                <input type="text" placeholder="Search files..." class="files-search" />
              </div>
            </div>

            <div class="files-list">
              <div class="file-row">
                <div class="file-checkbox-wrapper">
                  <input type="checkbox" class="file-checkbox" />
                </div>
                <div class="file-info">
                  <div class="file-name">Slides.pptx</div>
                  <div class="file-meta">Sent by You ‚Ä¢ Latest</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">10 September 2025, 11:30 PM</span>
                  <button class="ghost">Export</button>
                </div>
              </div>

              <div class="file-row">
                <div class="file-checkbox-wrapper">
                  <input type="checkbox" class="file-checkbox" />
                </div>
                <div class="file-info">
                  <div class="file-name">Report.docx</div>
                  <div class="file-meta">Sent by Charlotte ‚Ä¢ Latest</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">11 September 2025, 12:30 PM</span>
                  <button class="ghost">Export</button>
                </div>
              </div>

              <div class="file-row">
                <div class="file-checkbox-wrapper">
                  <input type="checkbox" class="file-checkbox" />
                </div>
                <div class="file-info">
                  <div class="file-name">Spreadsheet.xlsx</div>
                  <div class="file-meta">Sent by Coco ‚Ä¢ Latest</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">11 September 2025, 01:30 PM</span>
                  <button class="ghost">Export</button>
                </div>
              </div>

              <div class="file-row">
                <div class="file-checkbox-wrapper">
                  <input type="checkbox" class="file-checkbox" />
                </div>
                <div class="file-info">
                  <div class="file-name">Final.pdf</div>
                  <div class="file-meta">Sent by You ‚Ä¢ Latest</div>
                </div>
                <div class="file-actions">
                  <span class="file-date">12 September 2025, 02:15 PM</span>
                  <button class="ghost">Export</button>
                </div>
              </div>
            </div>

            <h3 style="margin-top: 28px;">Preview</h3>
            <div class="files-preview-grid">
              <div class="preview-card">
                <div class="preview-thumbnail">üìÑ</div>
                <p class="preview-name">Slides.pptx</p>
              </div>
              <div class="preview-card">
                <div class="preview-thumbnail">üìÑ</div>
                <p class="preview-name">Report.docx</p>
              </div>
              <div class="preview-card">
                <div class="preview-thumbnail">üìä</div>
                <p class="preview-name">Spreadsheet.xlsx</p>
              </div>
              <div class="preview-card">
                <div class="preview-thumbnail">üìã</div>
                <p class="preview-name">Final.pdf</p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <div class="toast-container" id="toastContainer"></div>
  <script src="../pages-shared.js"></script>
  <script src="workspaces-script.js"></script>
</body>
</html>
